# راهنمای استفاده از ربات تحلیل تکنیکال ارز دیجیتال

## مقدمه

این راهنما نحوه استفاده از ربات تحلیل تکنیکال ارز دیجیتال را توضیح می‌دهد. این ربات به شما کمک می‌کند تا با دریافت گزارش‌های دوره‌ای، تحلیل تکنیکال و سیگنال‌های معاملاتی، تصمیمات بهتری در بازار ارزهای دیجیتال بگیرید.

## نصب و راه‌اندازی

### پیش‌نیازها

قبل از استفاده از ربات، باید موارد زیر را آماده کنید:

1. یک توکن بات تلگرام (از @BotFather در تلگرام دریافت کنید)
2. چت آیدی تلگرام خود (از طریق @userinfobot در تلگرام دریافت کنید)
3. پایتون 3.7 یا بالاتر
4. کتابخانه‌های مورد نیاز:
   - numpy
   - pandas
   - ta
   - python-telegram-bot
   - schedule
   - matplotlib

### تنظیم متغیرهای محیطی

دو متغیر محیطی زیر باید تنظیم شوند:

```
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
DEFAULT_CHAT_ID=your_telegram_chat_id
```

## روش استفاده

### راه‌اندازی اولیه

برای راه‌اندازی اولیه، اسکریپت `startup.sh` را اجرا کنید:

```bash
./startup.sh
```

این اسکریپت موارد زیر را انجام می‌دهد:
- ارسال یک پیام تست برای بررسی اتصال به تلگرام
- ارسال یک گزارش دوره‌ای کامل شامل قیمت‌ها و سیگنال‌های معاملاتی
- ارسال تحلیل تکنیکال بیت‌کوین و اتریوم
- ارسال گزارش کلی بازار

### راه‌اندازی زمان‌بندی خودکار

برای راه‌اندازی زمان‌بندی خودکار گزارش‌ها، اسکریپت `راه‌اندازی_خودکار.sh` را اجرا کنید:

```bash
./راه‌اندازی_خودکار.sh
```

این اسکریپت موارد زیر را انجام می‌دهد:
- ارسال یک پیام تست برای بررسی اتصال به تلگرام
- ارسال یک گزارش دوره‌ای اولیه
- راه‌اندازی یک سرویس پس‌زمینه که هر 30 دقیقه یک بار گزارش‌های زیر را ارسال می‌کند:
  - گزارش کلی بازار
  - تحلیل تکنیکال یک ارز تصادفی

همچنین می‌توانید از اسکریپت قبلی `run_scheduler.sh` نیز استفاده کنید:

```bash
./run_scheduler.sh
```

### توقف زمان‌بندی خودکار

برای توقف زمان‌بندی خودکار، اسکریپت `توقف_ربات.sh` را اجرا کنید:

```bash
./توقف_ربات.sh
```

این اسکریپت، زمان‌بندی را متوقف می‌کند و یک پیام به تلگرام ارسال می‌کند تا اطلاع دهد که ربات متوقف شده است.

همچنین می‌توانید از اسکریپت قبلی `stop_scheduler.sh` نیز استفاده کنید:

```bash
./stop_scheduler.sh
```

### استفاده دستی

#### ارسال پیام تست

برای بررسی اتصال به تلگرام، دستور زیر را اجرا کنید:

```bash
python telegram_reporter.py test
```

#### ارسال تحلیل تکنیکال یک ارز خاص

برای ارسال تحلیل تکنیکال یک ارز خاص، دستور زیر را اجرا کنید:

```bash
python telegram_reporter.py technical BTC/USDT
```

می‌توانید نام ارز دلخواه را جایگزین کنید، مثلاً:

```bash
python telegram_reporter.py technical ETH/USDT
```

#### ارسال گزارش کلی بازار

برای ارسال گزارش کلی بازار، دستور زیر را اجرا کنید:

```bash
python telegram_reporter.py market
```

#### ارسال گزارش دوره‌ای کامل

برای ارسال گزارش دوره‌ای کامل، دستور زیر را اجرا کنید:

```bash
python telegram_reporter.py
```

## تفسیر تحلیل‌ها و سیگنال‌ها

### تحلیل تکنیکال

گزارش تحلیل تکنیکال شامل اطلاعات زیر است:

- **قیمت فعلی**: قیمت کنونی ارز به همراه نشانگر روند روزانه
- **تغییر روزانه و هفتگی**: درصد تغییر قیمت در بازه روزانه و هفتگی
- **سیگنال معاملاتی**: توصیه معاملاتی (خرید، فروش، نگهداری) و قدرت سیگنال
- **توصیه**: توضیح دقیق‌تر درباره اقدام پیشنهادی
- **روند**: وضعیت روند قیمت (صعودی، نزولی، خنثی)
- **سطوح حمایت و مقاومت**: سطوح مهم حمایت و مقاومت قیمت
- **شاخص‌های کلیدی**: شاخص‌های مهم تکنیکال مانند RSI، MACD و باندهای بولینگر
- **نوسانات**: میزان نوسانات قیمت و تفسیر آن

### رنگ‌ها و نشانگرها

- 🟢 نشان‌دهنده سیگنال خرید، روند صعودی یا وضعیت مثبت
- 🔴 نشان‌دهنده سیگنال فروش، روند نزولی یا وضعیت منفی
- ⚪ نشان‌دهنده وضعیت خنثی یا عدم وجود سیگنال واضح
- ⚠️ نشان‌دهنده هشدار یا شرایط خاص

### شاخص‌های مهم

- **RSI (شاخص قدرت نسبی)**: 
  - مقادیر بالای 70: اشباع خرید، احتمال اصلاح قیمت
  - مقادیر زیر 30: اشباع فروش، احتمال بازگشت قیمت
  - مقادیر 30-70: وضعیت نرمال

- **MACD (واگرایی/همگرایی میانگین متحرک)**:
  - MACD بالای خط سیگنال: روند صعودی
  - MACD زیر خط سیگنال: روند نزولی
  - تقاطع MACD و خط سیگنال: سیگنال تغییر روند

- **باندهای بولینگر**:
  - پهنای زیاد: نوسانات بالا
  - پهنای کم: نوسانات پایین
  - قیمت بالای باند بالایی: احتمال اشباع خرید
  - قیمت زیر باند پایینی: احتمال اشباع فروش

## ارزهای تحت نظارت

- BTC/USDT
- ETH/USDT
- BNB/USDT
- XRP/USDT
- SOL/USDT
- DOT/USDT
- DOGE/USDT
- ADA/USDT

## پشتیبانی و مشکلات رایج

### سیستم کار نمی‌کند

1. بررسی کنید که متغیرهای محیطی `TELEGRAM_BOT_TOKEN` و `DEFAULT_CHAT_ID` به درستی تنظیم شده باشند
2. از صحت توکن بات تلگرام و چت آیدی اطمینان حاصل کنید
3. اطمینان حاصل کنید که بات تلگرام فعال است و دسترسی به ارسال پیام دارد

### خطا در اجرای اسکریپت‌ها

1. بررسی کنید که به فایل‌های `.sh` دسترسی اجرا داده شده باشد:
```bash
chmod +x *.sh
```

2. فایل‌های لاگ را برای پیدا کردن خطاها بررسی کنید:
```bash
cat startup.log
cat scheduler.log
cat telegram_reporter.log
cat راه‌اندازی_خودکار.log
cat توقف_ربات.log
```

### تنظیم مجدد سیستم

برای تنظیم مجدد سیستم:

1. ابتدا زمان‌بندی خودکار را متوقف کنید:
```bash
./توقف_ربات.sh
```

2. سپس دوباره سیستم را راه‌اندازی کنید:
```bash
./راه‌اندازی_خودکار.sh
```
